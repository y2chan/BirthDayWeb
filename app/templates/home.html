<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="16x16"  href="/media/photos/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poor+Story&display=swap" rel="stylesheet">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <title>ì„œìœ¤ì´ì˜ ìƒì¼ì„ ì¶•í•˜í•©ë‹ˆë‹¤!</title>
    <style>
	body {
            background-color : rgb(255, 224, 230, 1);
            font-family: "Poor Story", system-ui;
            font-weight: 400;
            font-style: normal;
        }

        /* ê³µí†µ í¼ ê·¸ë£¹ ìŠ¤íƒ€ì¼ë§ */
        .form-group {
            margin-bottom: 40px;
        }

        /* í…ìŠ¤íŠ¸ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ë§ */
        input[type="text"] {
            display: block; /* ë¸”ë¡ ë ˆë²¨ ìš”ì†Œë¡œ ë§Œë“¤ì–´ ì¤„ ë°”ê¿ˆ íš¨ê³¼ */
            width: 100%; /* ë¶€ëª¨ ìš”ì†Œì˜ ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
            margin-top: 20px; /* ë ˆì´ë¸”ê³¼ì˜ ê°„ê²© */
            padding: 8px; /* íŒ¨ë”© */
            border: 1px solid #ccc; /* í…Œë‘ë¦¬ */
            border-radius: 4px; /* í…Œë‘ë¦¬ ë‘¥ê¸€ê²Œ */
        }

	.filebox .upload-name {
    	    display: inline-block;
    	    height: 40px;
    	    padding: 0 10px;
    	    vertical-align: middle;
    	    border: 1px solid #dddddd;
    	    width: 78%;
    	    color: #999999;
	}

	.filebox label {
    	    display: inline-block;
    	    padding: 0px 10px;
    	    color: #fff;
    	    vertical-align: middle;
	    line-height: 40px;
    	    background-color: #999999;
    	    cursor: pointer;
    	    height: 40px;
    	    margin-left: 10px;
	}

	.filebox input[type="file"] {
	    position: absolute;
    	    width: 0;
    	    height: 0;
    	    padding: 0;
    	    overflow: hidden;
    	    border: 0;
        }

        /* í…ìŠ¤íŠ¸ ì˜ì—­ ìŠ¤íƒ€ì¼ë§ */
        textarea {
            display: block;
            width: 100%;
            height: 100px; /* ê³ ì • ë†’ì´ */
            margin-top: 20px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: none; /* í¬ê¸° ì¡°ì ˆ ë¹„í™œì„±í™” */
            align-item: center;
        }

        .form-container {
	    text-align: center;
            width: 100%;
            margin-bottom: 100px;
	    margin-top: 40px;
        }

        .img-container {
            display: flex;
            overflow: hidden;
            margin-top: 5%;
            margin-bottom: 5%;
        }

        .slide {
            flex: 0 0 auto;
            width: 33%;
            opacity: 0;
            transition: opacity 1s ease;
        }

	.message_image {
            flex: 0 0 auto;
            width: 50%;
        }

        .like-content .btn-secondary {
            display: block;
            margin: 30px auto 0px;
            text-align: center;
            background: #ed2553;
            border-radius: 3px;
            box-shadow: 0 10px 20px -8px rgb(240, 75, 113);
            padding: 10px 17px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            outline: none;
            color: #ffffff;
            text-decoration: none;
            -webkit-transition: 0.3s ease;
            transition: 0.3s ease;
        }

        .like-content .btn-secondary:hover {
            transform: translateY(-3px);
        }

        .like-content .btn-secondary .fa {
            margin-right: 5px;
        }

        .animate-like {
          animation-name: likeAnimation;
          animation-iteration-count: 1;
          animation-fill-mode: forwards;
          animation-duration: 0.65s;
        }

        @keyframes likeAnimation {
          0%   { transform: scale(30); }
          100% { transform: scale(1); }
        }

        .heart-line {
            display: flex;
	    justify-content: center;
            align-items: center;
        }
    
        .heart {
            margin-right: 5px; /* í•˜íŠ¸ ì‚¬ì´ì˜ ê°„ê²© ì¡°ì ˆ */
            animation: heart-animation 1s infinite;
	    font-size: 5pt;
        }
    
        @keyframes heart-animation {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }

    </style>
</head>
<body>
<h1 style="text-align: center; font-size: 24pt; margin-top: 50px;">2024ë…„ 5ì›” 5ì¼</h1>
<h1 style="text-align: center; font-size: 30pt;">ğŸ‰ ì„œìœ¤ì´ì˜ ìƒì¼ì„</h1>
<h1 style="text-align: center; font-size: 30pt; margin-bottom: 50px;"> ì¶•í•˜í•©ë‹ˆë‹¤!! ğŸ‰</h1>

<div class="img-container" id="imgContainer">
    {% for photo in photos %}
    <img src="{{ photo.image.url }}" alt="{{ photo.description }}" class="slide">
    {% endfor %}
</div>
<h2 style="text-align: center; margin-top: 100px;">ì¶•í•˜ ë©”ì‹œì§€ ëª©ë¡</h2>
<ul style="text-align: center; margin:0; padding:0;">
    {% if messages %}
    {% for message in messages %}
    	{% if message.image %}
    		<li style="list-style-type: none; margin:0; padding:0; margin-bottom: 20px; margin-top: 20px;"><img src="{{ message.image.url }}" class="message_image"><br>{{ message.create_at }}<br><strong style="font-size: 16pt;">{{ message.nickname }}</strong><br> {{ message.message }}</li>
	{% else %}
    		<li style="list-style-type: none; margin:0; padding:0; margin-bottom: 20px; margin-top: 20px;"><br>{{ message.create_at }}<br><strong style="font-size: 16pt;">{{ message.nickname }}</strong><br> {{ message.message }}</li>
	{% endif %}
    <div class="heart-line">
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
	<span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
	<span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
	<span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
        <span class="heart">ğŸ’–</span>
    </div>
    {% endfor %}
    {% else %}
    <li style="list-style-type : none; margin:0; padding:0; margin-top: 30px; margin-bottom: 100px;"><strong>ì•„ì§ ë©”ì‹œì§€ê°€ ì‘ì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!</strong></li>
    {% endif %}
</ul>
<h2 style="text-align: center; margin-top: 100px;">ì¶•í•˜ ë©”ì‹œì§€ ë‚¨ê¸°ê¸°</h2>
<p style="text-align: center; margin-top: 10px;">ìˆ˜ì •, ì‚­ì œê°€ ë¶ˆê°€ëŠ¥í•˜ë‹ˆ ì˜ˆìœ ë§ë§Œ ë¶€íƒë“œë¦½ë‹ˆë‹¤ğŸ˜‰</p>
<p style="text-align: center; margin-top: 10px;">í˜¹ì‹œë¼ë„ ì˜ëª» ì‘ì„±í•˜ì…¨ìœ¼ë©´ @y_2chanìœ¼ë¡œ ì—°ë½ì£¼ì„¸ìš”!</p>
<div class="form-container">
    <form method="post" enctype="multipart/form-data" style="text-align: center; width: 60%; margin: 0px auto;" id="messageForm">
        {% csrf_token %}
        <div class="form-group">
            <label for="{{ message_form.nickname.id_for_label }}" style="font-size: 16pt;">ë‹‰ë„¤ì„</label>
            <input type="text" name="{{ message_form.nickname.name }}" id="{{ message_form.nickname.id_for_label }}" value="{{ message_form.nickname.value|default_if_none:'' }}" placeholder="ì—¬ê¸°ì— ë‹‰ë„¤ì„ì„ ì ì–´ì£¼ì„¸ìš”." style="text-align: center;">
            <!-- ë³„ëª… ê²½ê³  ë©”ì‹œì§€ -->
            <div id="nicknameWarning" style="color: red; font-size: 10pt; margin-top: 5px;"></div>
        </div>

        <div class="form-group">
            <label for="{{ message_form.message.id_for_label }}" style="font-size: 16pt;">ë‚¨ê¸°ê³  ì‹¶ì€ ë§</label>
            <textarea name="{{ message_form.message.name }}" id="{{ message_form.message.id_for_label }}" placeholder="ì—¬ê¸°ì— ë‚¨ê¸°ê³  ì‹¶ì€ ë§ì„ ì ì–´ì£¼ì„¸ìš”." style="text-align: center;"></textarea>
            <!-- ë©”ì‹œì§€ ê²½ê³  ë©”ì‹œì§€ -->
            <div id="messageWarning" style="color: red; font-size: 10pt; margin-top: 5px;"></div>
        </div>
	<div class="form-group">
	    <label for="{{ message_form.message.id_for_label }}" style="font-size: 16pt;">ì‚¬ì§„ ì²¨ë¶€í•˜ê¸°</label>
	    <div class="filebox" style="margin-top: 20px;">
		<input class="upload-name" value="ì²¨ë¶€íŒŒì¼" placeholder="ì²¨ë¶€íŒŒì¼" readonly>
		<label for="image">ì‚¬ì§„ ì²¨ë¶€</label>
            	<input type="file" name="image" id="image" style="text-align: center;">
	    </div>
        </div>
        <div class="like-content">
            <button class="btn-secondary like-review" type="submit" name="post_message">ë©”ì‹œì§€ ë‚¨ê¸°ê¸°</button>
        </div>
    </form>
</div>
<a style="display:scroll;position:fixed;bottom:80px; right:30px;" rel="nofollow"

   href="#" style="font-size:2.0em"><img src="/media/photos/top.png"></a>



<a style="display:scroll;position:fixed;bottom:40px; right:30px;" rel="nofollow"

   href="#scrollbottom" style="font-size:2.0em"><img src="/media/photos/down.png"></a>

<div id="scrollbottom"></div>
<script>
    let currentIndex = 0;
    const slides = document.querySelectorAll(".slide");
    const totalSlides = slides.length;

    function showAllSlides() {
        // 1ì´ˆê°„ ëª¨ë“  ìŠ¬ë¼ì´ë“œë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
        slides.forEach(slide => {
            slide.style.opacity = "1";
        });
    }

    function showSlide(index) {
        // ëª¨ë“  ìŠ¬ë¼ì´ë“œ ìˆ¨ê¸°ê¸°
        slides.forEach(slide => {
            slide.style.opacity = "0";
        });

        // í˜„ì¬ ì¸ë±ìŠ¤ë¶€í„° ì‹œì‘í•˜ì—¬ ìˆœì°¨ì ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ ë³´ì—¬ì£¼ê¸°
        for(let i = 0; i < totalSlides; i++) {
            let targetIndex = (index + i) % totalSlides; // ìˆœí™˜ì„ ìœ„í•œ ê³„ì‚°
            setTimeout(() => {
                slides[targetIndex].style.opacity = "1";
            }, i * 800); // ì—¬ê¸°ì„œ 800ì€ ê° ìŠ¬ë¼ì´ë“œê°€ ë‚˜íƒ€ë‚˜ëŠ” ì‹œê°„ ê°„ê²©ì…ë‹ˆë‹¤.
        }
    }

    function nextSlide() {
        currentIndex = (currentIndex + 1) % totalSlides;
        showSlide(currentIndex);
    }

    // ì²« ë¡œë“œ ì‹œ ëª¨ë“  ìŠ¬ë¼ì´ë“œë¥¼ 1ì´ˆê°„ ë³´ì—¬ì£¼ê³ , ê·¸ í›„ì— ì›ë˜ ë™ì‘ ì‹¤í–‰
    showAllSlides();
    setTimeout(() => {
        // ì´ˆê¸° ìŠ¬ë¼ì´ë“œ ì„¤ì • ë° ì£¼ê¸°ì ì¸ ìŠ¬ë¼ì´ë“œ ë³€ê²½ ì‹œì‘
        showSlide(currentIndex);
        setInterval(nextSlide, 3200 + 800); // ì²«ë²ˆì§¸ ìŠ¬ë¼ì´ë“œê°€ ì‹œì‘ë˜ê³  ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œê°€ ëë‚˜ê¸°ê¹Œì§€ì˜ ì‹œê°„
    }, 1000); // 1ì´ˆ ë’¤ì— ì›ë˜ ë™ì‘ ì‹¤í–‰
</script>

<script>
    document.getElementById('messageForm').onsubmit = function() {
        // ì´ˆê¸° ìƒíƒœì—ì„œ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë¹„ì›ë‹ˆë‹¤.
        document.getElementById('nicknameWarning').textContent = '';
        document.getElementById('messageWarning').textContent = '';

        // ë³„ëª… ì…ë ¥ í•„ë“œì™€ ë©”ì‹œì§€ ì…ë ¥ í•„ë“œ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
        var nickname = document.getElementById('{{ message_form.nickname.id_for_label }}').value;
        var message = document.getElementById('{{ message_form.message.id_for_label }}').value;
        var isValid = true;

        // ë³„ëª…ì´ 1ê¸€ì ë¯¸ë§Œì¸ ê²½ìš°
        if (nickname.length < 1) {
            document.getElementById('nicknameWarning').textContent = 'ë³„ëª…ì€ ìµœì†Œ 1ê¸€ì ì´ìƒ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.';
            isValid = false;
        }

        // ë©”ì‹œì§€ê°€ 5ê¸€ì ë¯¸ë§Œì¸ ê²½ìš°
        if (message.length < 5) {
            document.getElementById('messageWarning').textContent = 'ë©”ì‹œì§€ëŠ” ìµœì†Œ 5ê¸€ì ì´ìƒ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.';
            isValid = false;
        }

        // ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í†µê³¼í•˜ì§€ ëª»í•˜ë©´ í¼ ì œì¶œì„ ë°©ì§€í•©ë‹ˆë‹¤.
        return isValid;
    };
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        const fileTarget = $('.filebox input[type="file"]');

        fileTarget.on('change', function () {
            // ì‚¬ìš©ìê°€ ì„ íƒí•œ ë‹¨ì¼ íŒŒì¼
            var file = $(this)[0].files[0];

            // ì„ íƒí•œ íŒŒì¼ì˜ ì´ë¦„
            var fileName = file ? file.name : '';

            // íŒŒì¼ ì´ë¦„ì„ .upload-name ì…ë ¥ í•„ë“œì— ì„¤ì •
            $(this).closest('.filebox').find('.upload-name').val(fileName);
        });
    });
</script>
</body>
</html>

